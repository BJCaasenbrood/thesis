\section[Numerical examples: generating soft robotic topologies]{Numerical examples: generating soft robotic topologies via optimization}
\label{sec:C1:results}
The proposed computational algorithm enables the synthesis of various topologies of soft robots exhibiting diverse motions. The choice of output vector $\LB$ is arbitrary, allowing for the generation of motion patterns that are useful in soft robotic locomotion or grasping by customizing the objective function. Our analysis focuses on three cases: ($i$) linear elongation or contraction, ($ii$) distributed bending, and ($iii$) grasping. All simulations are conducted using MATLAB\textsuperscript{\scriptsize\textregistered} on a modern machine (Ryzen 7-5800H, 3.2GHz). Unless stated otherwise, all simulation examples employ the same material model, specifically, the Yeoh parameters $c_1 = 35$ kPa, $c_2 = 0.25$ kPa, and $c_3 = 0.023$ kPa, which are based on the silicone elastomer Dragonskin 10A\textsuperscript{\scriptsize\texttrademark\!} \cite{Xavier2022Jun}.

\subsection{Linear translational soft actuators}
One of the simplest forms of motion in soft robotics is linear translation. Such motion can be achieved through the use of various topologies, such as the McKibben actuator or a serial chain for bellow-type actuators. Both of these soft actuation principles operate similar: pressurized fluid is applied to an enclosed interior, and due to low-axial compliance compared to the radial compliance imposed by geometrical shape (\eg, bellow shape) or material composites (\eg, McKibben \cite{Paynter1974,Paynter1988}), linear motion is produced.  Given their linear motion, these system are often associated with bio-inspired muscle, due them acting similar to hydrostatic muscular system found in nature \cite{Kier1985}. 
 
In the first optimization benchmark we aim to find the optimal topology for a soft fluidic muscle. Exploring spatial symmetry, we consider a rectangular material domain $\mathcal{B}_0$ of dimension $20 \times 10$ \si{\milli \meter}, which forms the upper-left quadrant of the pneumatic soft muscle. This makes the cross-sectional size of the bellow $40$ \si{\milli \meter} in width and $20$ \si{\milli \meter} in height. The bottom of upper-left quadrant is structurally fixed, the left wall can move only vertically (symmetric boundary condition), and the other boundaries can move freely. The objective of the optimization is to maximize the displacement of the top-left corner in positive vertical direction. The top corner is equipped with an artificial spring $k_{out} = 1.0$ \si{\newton \per \milli \meter}. The material infill is set to $V^\star = 0.25$ (\ie, a material infill of 25\%). As for the initial conditions, we consider small circular hole of $3$ \si{\milli \meter}, which also resides the virus element subjected to an artificial pressure parameter $\tilde{p}_e = 0.01$. In our analysis, we consider $n=$10k elements.
%
\afterpage{
\begin{figure}[!t]
  \centering
  \vspace{-3mm}
  %\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
  \includegraphics*[width=0.95\textwidth]{./pdf/thesis-figure-3-3.pdf}
  \caption{\small Evolution of topology optimization solver for the linear soft actuator, where $V^\star = 0.25$. The areas (\textcolor{matinfil}{$\blacksquare$}, \textcolor{lightvoid}{$\blacksquare$}, \textcolor{lightblue}{$\blacksquare$}) denote the material infill, void, and fluidic region, respectively. It can be observed that after a few iterations, a shape appears that is reminiscent of the conventional bellow. It is noteworthy that the shape is non-convex, with a slight curvature inwards, which enhances elongation without introducing excessive ballooning.}
  \label{fig:C3:topo_result_bellow}
\end{figure}
%
\begin{figure}[!t]
  \centering
  \vspace{-3mm}
  %\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
  \includegraphics*[width=0.95\textwidth]{./pdf/thesis-figure-3-4.pdf}
  \caption{\small (left) Numerical validation of the optimized linear soft actuator, where the Von Mises stress is shown using the colormap \protect\colormapcaption{0}{.75cm}$\!\!\in [0,12]$ \si{\mega \pascal}. (right) Input-displacement characteristic of the optimized soft actuator.}
  \label{fig:topo_result_bellow_fem}
  \vspace{-3mm}
\end{figure}
}

The evolution of the optimization solver is presented in Figure \ref{fig:C3:topo_result_bellow}. Interestingly, it reveals a bellow-shaped soft actuator structure, bearing resemblance to those commonly utilized in engineering applications. Additionally, the optimizer generates a non-convex bellow with  slightly curvature inward. This shape is intended to decrease the axial stiffness of the soft actuators, thereby reducing ballooning during significant elongation. Similar concave bellow designs have been seen in Festo's Bionic Arm \cite{Hairer2002}. The numerical validation of the structure is shown in Figure \ref{fig:topo_result_bellow_fem}, which indicate that the soft topology can achieve 100$\%$ extension at 10 \si{\kilo \pascal}. It is important to note, however, that the slope of the input-output trend is positive decreasing, which suggests that further increase in pressure may eventually lead to ballooning.

\subsection{Pinching soft grippers}
\label{sec:C3:Gripper_results}
The second optimization benchmark involves the study of compliant mechanisms that are capable of transforming linear forces into grasping or pinching motions. In this analysis, we aim to investigate similar motions through fluidic actuation. It is a well-known issue in optimization for gripping mechanics that solvers frequently generate thin hinge-like structures that are susceptible to high stress concentration \cite{Bendsoe2003,Luo2016Mar}. We hypothesize that our soft material setting can naturally mitigate this problem, due to low material compliance and enabling large deformation.

The soft fluidic gripper's design domain is assumed to be symmetrical. Therefore, only the top half of the mechanism, with dimensions of $45 \times 15$ \si{\milli \meter}, is considered. The left side is fixed structurally, while the bottom can move horizontally due to the symmetry condition. On the right side, a cut-out is introduced, which serves as the gripper region. The objective of the optimization is to maximize the displacement of the gripper corner in negative vertical direction. This top corner is equipped with an artificial spring $k_{out} = 1.0$ N/mm, and the material infill is set to $V^\star = 0.30$ (\ie, a material infill of 30\%). As for the initial conditions, we consider circular hole of radius $6$ \si{\milli \meter} at the left side. Concerning the pneumatic actuation, the adaptive topology is subjected to an artificial pressure parameter $\tilde{p}_e = 0.01$, where the virus element is also located at the left side. In our analysis, we consider $n=$20k elements.

\begin{figure}[!t]
  \centering
  \vspace{-3mm}
  %\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
  \includegraphics*[width=0.95\textwidth]{./pdf/thesis-figure-3-7.pdf}
  \caption{\small Evolution of topology optimization solver for the soft fluidic gripper, where the material infill is $V^\star = 0.30$. The areas (\textcolor{matinfil}{$\blacksquare$}, \textcolor{lightvoid}{$\blacksquare$}, \textcolor{lightblue}{$\blacksquare$}) denote the material infill, void, and fluidic region, respectively. The optimizer proposes a topology with a large tear-shaped pressure vessel, whose walls are connected to small struts that transfer the gripping motion.}
  \label{fig:C3:topo_result_gripper}
  \vspace{-3mm}
\end{figure}

\begin{figure}[!t]
  \centering
  \vspace{-3mm}
  %\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
  \includegraphics*[width=0.95\textwidth]{./pdf/thesis-figure-3-6.pdf}
  \caption{\small (left) Numerical validation of the optimized linear soft actuator, where the Von Mises stress is shown using the colormap \protect\colormapcaption{0}{.75cm}$\!\!\in [0,25]$ \si{\mega\pascal}. (right) Input-displacement characteristic of the optimized soft actuator. Notice that at $u \ge 10$ \si{\kilo\pascal}, no further deformations occur at the end-effector level as the gripper tips are in contact.}
  \label{fig:C3:topo_result_gripper_fem}
\end{figure}

The evolution of the optimization solver is presented in Figure \ref{fig:C3:topo_result_gripper}. The proposed solution consists of a tear-shaped pressure vessel, whose walls are connected to a compliant mechanism through struts that transfer volumetric deformation to pinch-grasping motions. This gripper mechanism is similar to those found in literature \cite{Gain2013Dec,Bendsoe2003}, which involve a central revolute compliant joint, resembling scissors. To validate the proposed structure, we converted the final 2D topology result shown in Figure \ref{fig:C3:topo_result_gripper} into a nonlinear FEM model and subjected it to an input pressure of $u = 10$ \si{\kilo \pascal}. The numerical validation results are presented in Figure \ref{fig:C3:topo_result_gripper_fem}, which also shows the relationship between pressure and gripper distance. Our numerical results demonstrate that gripping morphologies arise when the structure is subjected to positive pressure, where a closed grasp is achieved at an activation pressure of $u \ge 10$ \si{\kilo \pascal}.

\subsection{Bending soft actuator -- PneuNet inspired}
\label{sec:C3:PneuNet_results}
Next, we focus on soft actuator that produce distributed bending. Such morphology is often associated with the popular class of soft actuators named "\emph{PneuNet}" actuators \cite{Polygerinos2013,Polygerinos2015,Galloway2016,Hughes2016Nov,Marchese2015}. PneuNet actuators consist of a set of rectangular pneumatic chambers inside an elastomer medium. When pressurized, these chambers inflate, and due a structural stiffness gradient, the elastomer body undergoes bending. Typically, inextensible composite materials are used at the bottom of the structure to further such stiffness gradient and therefore enhance bending. The goal of this numerical study case is to synthesize a soft robot topology that undergoes bending motion similar to the PneuNet actuator. 

In our example, the following settings are chosen. We consider a rectangular design domain $\mathcal{B}_0$ with dimensions 20$\times$40 mm (as shown in Fig. \ref{fig:topo_result}). The maximum material infill is $V^\star = 0.3$ (\ie, a material infill of 30\%). The bottom left corner is fixed, and the right bottom corner is equipped with an artificial spring $k_{out} = 1.0$ N/mm. The objective of the optimization is to maximize the vertical displacement of the left bottom corner in the negative vertical direction. Concerning the pneumatic actuation, the adaptive topology is subjected to an artificial pressure parameter $\tilde{p}_e = 0.01$, where the virus element is located at the center.

\begin{figure}[!t]
\centering
%\vspace{-3mm}
%\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
\includegraphics*[width=0.95\textwidth]{./pdf/thesis-figure-3-2.pdf}
\caption{\small Evolution of topology optimization solver for the bending soft actuator, where $V^\star = 0.30$. The areas (\textcolor{matinfil}{$\blacksquare$}, \textcolor{lightvoid}{$\blacksquare$}, \textcolor{lightblue}{$\blacksquare$}) denote the material infill, void, and fluidic region, respectively. The optimization process results in a topology that bears resemblance to that of conventional PneuNets, with the exception that the pressure chambers take on a tear-shaped form. Additionally, the optimizer generates an in-extensibility layer by depositing more material at the bottom. }
\label{fig:topo_result}\end{figure}

\begin{figure}[!t]
  \centering
  %\vspace{-3mm}
  %\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
  \includegraphics*[width=0.95\textwidth]{./pdf/thesis-figure-3-5.pdf}
  \caption{\small (left) Numerical validation of the optimized linear soft actuator, where the Von Mises stress is shown using the colormap \protect\colormapcaption{0}{.75cm}$\!\!\in [0,25]$ \si{\mega \pascal}. (right) Input-curvature characteristic of the optimized soft bending actuator. Notice that the input-output relation is closely linear, which traditionally is accomplished using composite materials by introducing inextensible layers \cite{Polygerinos2013,Polygerinos2015}.}
  \label{fig:topo_result_pneunet_fem}
\end{figure}

Using the method described in Algorithm \ref{alg:topology_opt}, an optimized topology is obtained (as shown in Fig. \ref{fig:topo_result}). As can be seen, the computational algorithm provides a new and interesting variation on the well-familiar PneuNet actuator. Contrary to its rectangular predecessor, the optimal structure has a significant resemblance to a bellow-shaped actuator to accommodate bending mobility further. Here, however, these bellows are tear-shaped whose narrow side is oriented downwards. To validate our synthesized topology, a three-dimensional finite element analysis is conducted. First, we use Gaussian radial basis functions (RBFs) to reconstruct a smooth manifold surface from the discretized optimization mesh. Due to spatial symmetry, the spatial reconstruction can be horizontally repeated to construct a full `PneuNet' actuator, see Figure \ref{fig:topo_result}. The two-dimensional optimization is then transformed into an nonlinear FEM model. The pneumatic chambers are subjected to a positive differential pressure of $u = 15$ kPa. As can be illustrated by Figure \ref{fig:topo_result_pneunet_fem}, the finite element analysis verifies that the synthesized soft robot topology accomplishes the desired bending morphology when pressurized.

\subsection{Solutions for varying material parameters}
A important aspect of topology optimization is that, in addition to selecting an objective function, the numerical solutions can be influenced by the choice of material. Particularly within the realm of soft robotics, which encompasses a wide range of soft material options, it is therefore paramount to explore various material parameters beyond the previously utilized Dragonskin 10 material with $c_1 = 36$ \si{\kilo \pascal}. In the analysis, we investigate four alternative materials commonly examined in the field: Ecoflex 00-30\textsuperscript{\scriptsize\texttrademark\!}, Ecoflex 00-50\textsuperscript{\scriptsize\texttrademark\!}, Dragonskin 30\textsuperscript{\scriptsize\texttrademark\!}, and NinjaFlex 85A\textsuperscript{\scriptsize\texttrademark\!}. It is important to note that all materials, except for NinjaFlex 85A\textsuperscript{\scriptsize\texttrademark\!}, are two-component castable silicone rubber materials, with NinjaFlex being a 3D-printable TPU material used for Fused Filament Decomposition (FDM) printing. By adopting material parameters derived from literature, we obtain the following material parameters: Ecoflex 00-10 with $c_1 = 8.7$ kPa \cite{Marechal2021Jun}; Ecoflex 00-50 with $c_1 = 19$ kPa \cite{Xavier2022Jun,Xavier2021Feb}; Dragonskin 30 with $c_1 = 96$ kPa \cite{Marechal2021Jun,Xavier2021Feb}; and NinjaFlex 85A with $c_1 = 2.3$ MPa\blankfootnote{Although \cite{Xavier2021Feb} presents the material model in the generalized Rivlin model, the material parameters for the Yeoh model can be found under consistency with linear elastic materials as $c_1 = 0.5(C_{01} + C_{10})$ with $C_{01}, C_{10}$ the Rivlin parameters.} \cite{Xavier2021Feb}. The compressibility parameters are chosen identical to previous simulations. In this investigation, we repeat the inverse design problem of the bending PneuNet actuator as in Section \ref{sec:C3:PneuNet_results}. 
%
\begin{figure}[!t]
  \centering
  \vspace{-3mm}
  %\includegraphics[height=0.33\textwidth]{./img/topo_bend/resultTopo.eps}
  \includegraphics*[width=0.95\textwidth]{./pdf/thesis-fig-31.pdf}
  \caption{\small Design solutions found using optimization for different material models, arranged from left to right: Ecoflex 00--10, Ecoflex 00--50, Dragonskin 30, and NinjaFlex 85A, with a progressive increase in material stiffness. The areas (\textcolor{matinfil}{$\blacksquare$}, \textcolor{lightvoid}{$\blacksquare$}, \textcolor{lightblue}{$\blacksquare$}) denote the material infill, void, and fluidic region, respectively. It is worth noting that all of the optimization solutions exhibit a tear-drop-shaped bellows, which might suggest the existence of material-invariant (sub)-solutions to the inverse design problem of bending soft actuators composed of soft materials.}
  \label{fig:topo_result_different}
\vspace{-4mm}
\end{figure}

Figure \ref{fig:topo_result_different} shows the optimization solutions for various material choices. An interesting observation to note is that all topologies demonstrate a tear-drop-shaped bellows, as also observed in Section \ref{sec:C3:PneuNet_results} (and Section \ref{sec:C3:Gripper_results}). This observation might suggest the existence of generalized design solutions, or at the very least partial solutions, that seem invariant with respect to the material choice. The differences between solutions lie in $(i)$ the height, roundness, and volumetric capacity of the bellows, $(ii)$ the wall thickness, and $(iii)$ the topology of the ``inextensible'' layer at the bottom. Softer materials typically exhibit shorter and rounder bellows, while stiffer materials tend to favor rectangular geometries. With a stiffness value of $c_1 = 2.8$ MPa (\ie, the NinjaFlex 85A), this rectangular geometry is most pronounced, even pushing against the bounded design domain. This might suggest that the design domain is chosen too constrictively. Moreover, the volumetric capacity of the fluidic chamber is reduced, while the wall thickness is increased for softer materials. This can perhaps be attributed to the increased effort required to deform stiffer materials and the tendency for softer materials to experience ballooning earlier.

Another intriguing observation is the appearance, disappearance, and reappearance of optimal topological structures when traversing the elasticity spectrum of soft materials. In Figure \ref{fig:topo_result_different}, we see that for $c_1 = 8.7$ kPa (softest) and $c_1 = 2.8$ MPa (stiffest), both solutions favor a hinge-like structure. Yet, for intermediate values of $c_1$, the optimizer proposes an inextensible layer at the bottom. This finding is quite unexpected, as optimality in structural optimization may not exhibit a monotonic relationship with increasing material elasticity, whereas others, \eg, fluidic capacity and bellows height, appear to be monotonically correlated with $c_1$. We hypothesize that using an inextensible layer is too ineffective for softer material values (\ie, $c_1 < 8.7$ kPa) as their low elasticity cannot be used to constrain motion; thus a hinge-like structure is likely the more effective option for generating bending. Conversely, it is well-established that stiff materials tend to favor hinge-like structures for bending, as demonstrated in various studies on topology optimization for compliant mechanisms \cite{Bendsoe2003, Zhang2017Topo, Luo2016Mar}. For a lack of better terminology, we refer to this phenomenon as a `\textit{transcritical bifurcation}' in the optimization solution space, wherein there is an exchange of stability (\ie, the convergence/divergence of the optimization solutions) between two fixed points depending on the material parameter $c_1$. In light of this observation, exploring a broader material spectrum during a topology optimization analysis might emphasize different solutions that can otherwise not be observed when fixing material models \textit{a-priori} in a design procedure.

\begin{rmk}[On fabrication] 
In Chapter \ref{chap:Sorotoki}, Section \ref{sec:C5:pneunet_opt}, we validate the aforementioned soft bending actuator optimization using Additive Manufacturing. Using the material properties of the printable material (\ie, FormLabs resin 80A \cite{Xavier2022Jun}), the optimization suggestions are used as a guideline for design and showing the potential for the approach to applied to real structures.
\end{rmk}