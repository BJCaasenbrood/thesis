\chapter[Conclusions, recommendations, and outlook]{Conclusions, recommendations, and future outlook}
\label{chap: conclusions}
\thispagestyle{empty}
\vspace*{-8mm}
In recent years, the scientific community has shown an increasing interest in soft robotics owing to its utilization of soft materials that augment the dexterity, mobility and resilience of robots. The field has demonstrated potential for various applications in both industrial and academic settings, such as reliable and safe manipulation, adaptable gripping, and environmental exploration under uncertainties. Despite the advancements made in soft robotics, there is still a considerable gap between this field and traditional rigid robotics as well as biological systems. As highlighted in the introduction, successful implementation of embodied intelligence in soft robotics necessitates the holistic consideration of the entire embodiment of the bio-inspired system, which harmonizes design and control aspects of soft robots.

The primary objective of this thesis is to develop new and systematic tools for the design, modeling, and control of soft robots, with the aim of improving their overall performance by considering these aspects as a collective body. In this section, we provide an overview of the key contributions of the thesis, along with recommendations for future research directions.

\section{Conclusions}
% Soft robotics as a scientific field has grown significantly, with 
% In this work, we have developed new tools for the design, modeling, and control of soft robotic systems that aim to  push performance and adaptability of said systems further than previous ad-hoc methods. As discussed in the introduction of the thesis, pushing performance in soft robotics is challenging due to the unpredicedent challenges concerning accurate prediction of soft materials under static or dynamic deformations. This ultimately leads to systems with subpar performance as design and control strategies rely on modeling as the  framework. 
% The main objective of the thesis therefore reads:

% \objective{Development and analysis of new systematic tools balanced between the design, modeling, and control of soft continuum robots, whose goal is to achieve similar performance as rigid robotics and eventually biology.}

% The conclusion of the thesis 
% We acknowledge that there are open subproblems that fall outside the scope of this thesis. Accordingly, we provide recommendations for future research avenues in the concluding section of this dissertation.
% This brings us to the first research questions (R1):

% \begin{center}
% \textit{How do we design fluidic-interacting mechanical structures made from soft materials that deform according to a user-defined morphological pattern?}
% \end{center}

\textbf{7.1.1 Design synthesis of soft actuators.} Chapter \ref{chap: design} of the thesis proposes a new framework for synthesizing soft robot topologies from hyperelastic materials. The optimal design of actively deformable soft structures is a complex task due to the presence of numerous nonlinearities arising from material properties and fluid-structure interactions that result in state-dependent loads. It is crucial to consider these effects when designing such structures, as doing so ensures that the final soft topology is both efficient and effective in meeting its intended motion requirements. Moreover, ad-hoc methods may not always align with the specified objectives of the user, not only because of time constraints but also due to the increasing demand for complex joint coordination in soft robotic systems.

We address the challenges associated with designing fluid-driven soft structures by exploring the nonlinear Finite Element Method (FEM) using polygonal elements in conjunction with gradient-based topology optimization. The presented approach involves numerical free-form optimization to identify optimal topologies for fluidic soft actuation with predefined motion criteria set by the user. By exploring the mesh connectivity and volumetric dilation of polygonal elements, we have demonstrated that our approach provides a precise representation of fluid-structure interactions in soft robots, which is currently lacking in traditional structural optimization techniques. Through numerical analysis, we show that the optimization framework can generate meaningful material compositions that aid in the development of pressure-driven soft robots. It is interesting to observe that the optimized topologies align with prevalent designs often utilized in soft robotics, such as the bellows and the well-known PneuNet actuator. Although some distinctions may appear minor, they emphasize the importance of achieving an optimal design in soft robotics. To illustrate, our approach yields concave configurations of bellows that effectively amplify the actuator's stroke. Alternatively, the bellows featured in the PneuNet actuator assume a tear-shaped morphology that obviates the need for an inextensible layer located at the base. \\[0.05em]

\textbf{Modeling for control of soft manipulators.} Chapter \ref{chap:PCC} addresses the necessity of bridging the gap between modeling and control-oriented research in soft robotics. The chapter proposes developing accurate dynamic models for continuum soft robots to explore model-based control. However, such dynamic models tailored towards continuum soft robots must maintain real-time performance for transferring model-based control to physical systems. To achieve this goal, we use a minimal set of coordinates related to the differential geometry of spatial curves to express high-dimensional continuum deformation, building upon existing \textit{Piecewise-Constant Curvature} (PCC) formulations. To improve computational efficiency further, we propose a reduced-order integration scheme for fast forward dynamic simulations. Through numerical benchmarking, we demonstrate its ability to achieve real-time performance. In continuation, we introduce high-fidelity FEM data to enhance the representation of state-dependent compliance resulting from hyperelasticity and structural geometry in our models. We also introduce simplified models capable of capturing viscoelastic behavior, specifically creep. Our aim is to offer a more precise depiction of soft robots' compliant nature when compared to conventional Hookean options. To qualitatively evaluate our modifications, we conduct experimental measurements that highlight a significant accuracy improvement for static and dynamic conditions.

Following, our modeling approach is applied on a physical, pneumatic soft robot that has been produced using Additive Manufacturing techniques. The resulting continuum dynamical model exhibits good correspondence with the physical system and enables real-time simulations with varying degrees of motion. The similar model structures of soft robots and rigid robots facilitate the adoption of conventional control theory. We propose a passivity-based adaptive controller that provides exceptional tracking capabilities, despite encountering parameter uncertainties, including tip-loads and material parameters. Additionally, the controller gradually enhances the precision of these estimations over time, given that the unknown parameters remain persistently excited.

Chapter \ref{chap:BeyondPCC} centers on hyper-redundant soft robots and their capacity to imitate intricate morphological movements observed in nature. Previous PCC models exhibit various kinematic artifacts that hinder the actual hyper-redundancy commonly present in soft robots. In light of this, a modeling framework for Cosserat beams is presented, which leads to a finite-dimensional system in a port-Hamiltonian structure. An energy-shaping controller is proposed that ensures the closed-loop Hamiltonian is minimal at the desired set-point. The numerical model is developed for several bio-inspired soft robots, such as an octopus' tentacle and an elephant's trunk with distributed control inputs. The key challenges are capturing hyper-flexibility, dealing with inherent under-actuation, and exploiting hyper-redundancy to achieve control tasks. The model-based controller yields smooth convergence of the soft robot's end-effector while accounting for under-actuation. Our findings reveal that adjusting the controller gains enables the adjustment of the intrinsic stiffness of the soft body, resulting in diverse quasi-static joint solutions for the set-point problem with varying levels of structural compliance. 
%MORE TEXT HERE! \\[0.02em]
%However, there are limitations to this approach, such as the strain parametrization of functional basis not accounting for the geometry of the soft robot, making it difficult to accurately represent true continuum dynamics. Additionally, measuring spatial modes in an experimental setting is challenging, and future research is required to find a suitable 'soft sensing' technique. The proposed controller is suited for set-point regulation or slow-varying references. Overall, the mobility of the Cosserat model paired with energy-based control has a close resemblance to biological motion.
% \begin{itemize}
%   \item{To enable better designs and controllers for soft robots, how can we bridge the interdisciplinary aspects intrinsic to this field?}
% \end{itemize}

\textbf{Software development for the soft robotics community.} In Chapter \ref{chap:Sorotoki}, the thesis introduces \texttt{Sorotoki}, a modular and comprehensive MATLAB\textsuperscript{\scriptsize\textregistered} toolkit that enables the design, modeling, and control of soft robots. This toolkit serves as a compilation of all previous components described in the dissertation. The toolkit encompasses a library of Object-Oriented classes that has been specifically devised to address a diverse array of problems in soft robotics, encompassing inverse design of soft actuators, passive and active soft locomotion, object manipulation with soft grippers, model reduction, model-based control of soft robots, and shape estimation. Its most significant feature is its capacity to represent complex soft robotics systems using minimal code, which renders it easily accessible for individuals who possess limited programming knowledge. The chapter also presents a stable modeling platform for soft robotic systems that accommodates various shape functions designed for unique joint mobility imposed by the soft robot's design. Previous works in the modeling literature often select these functions without proper consideration, such as using polynomial bases (Chapter \ref{chap:BeyondPCC}). This thesis proposes a geometric modal decomposition approach that extracts geometric strain modes from higher-fidelity FEM simulations to construct generic low-dimensional models that accurately encode the features and elasticity of soft bodies. This approach introduces a new strain parametrization called the "\textit{Data-driven Variable Strain}" (DVS) basis. Finally, the toolkit also presents four open-hardware soft robotic systems that can be easily fabricated using commercially available 3D printers, further enabling soft robotic technology for the community. Overall, Sorotoki is a versatile and flexible resource that can benefit many researchers and practitioners of soft robotics.

\section[Recommendations]{Recommendations}
\textbf{Three-dimensional inverse design:}  Chapter \ref{chap: design} demonstrates the implementation of gradient-based design for soft robots using topology optimization. The process involves the application of straightforward optimization techniques to identify locally \textit{optimal} structures that align with the desired morphology. However, due to computational limitations, only optimizations of planar mechanical structures have been considered. Hence, additional steps are imperative for transforming the found topology into functional structures of soft actuators. One suggestion for enhancing the optimization techniques discussed in this thesis is to broaden their scope to encompass three-dimensional domains. This expansion is highly recommended as it simplifies the post-processing of the resulting topological structure, which can then be more readily transferred to a 3D-printing platform. It is important to acknowledge that the computational complexity of finite element models experiences an increase of $\mathcal{O}(n^3)$ as $n$, the global degrees of freedom (DOF) of the mesh, grows. Due to this substantial computational burden, it is strongly advised that forthcoming investigations delve into the use of GPU parallel computation or cluster computation.

An alternative to consider is the potential integration of the Material Point Method (MPM). The MPM offers certain benefits over FEM, including its capability to handle significant mesh distortions and superior preservation of mass and momentum. Furthermore, complex geometries can be handled more explicitly without necessitating remeshing. Although MPM is more computationally intensive than FEM, there are software packages available that offer parallel computing on multi-GPU (Graphics Processing Unit) or cloud-computing architectures. Recent studies have demonstrated encouraging utilization of MPM in the context of free-form soft robots, particularly with regards to co-optimization for locomotion. 

\textbf{Extension towards active and multi-materials optimization:} Another intriguing improvement upon Chapter \ref{chap: design} can be found in the area of multi-material topology optimization. One common issue with soft robots is that their supporting structures experience limited force transmissibility without suffering from structural buckling instabilities. Conducting research on multi-materials offers a promising solution, where the use of diverse materials, inspired for instance by natural muscular-skeletal systems, can result in a broader range of mechanical operation, eventually benefiting potential applications such as locomotion. Additionally, advancements in multi-material printing technology have made it easier to consolidate soft, rigid, and flexible conductive materials, or even mixtures thereof. This presents an opportunity to incorporate skeletal function along with proprioceptive sensing capabilities that can be directly integrated into the optimization.

We believe that the integration of "\textit{rigid}" and "\textit{soft}" materials in soft robotics will be instrumental in facilitating the development of optimally designed soft robot physiology, especially when energy consumption is critical. To achieve this, an architectural hierarchy comprising mechanical rigid and soft components can be utilized to perform distinct functions such as motion transmission, body support, and energy storage and release. Extending such design philosophy further, we could start designing robots that are neither completely rigid nor completely soft, but instead explore a spectrum of material composites that enable embedded intelligence through compliance.

\textbf{Free-floating and compositional soft bodies.} In Chapters \ref{chap:PCC} and \ref{chap:BeyondPCC}, we introduce techniques for modeling soft continuum robot manipulators, which can also be utilized for other slender, elastic structures. As demonstrated in Chapter \ref{chap:Sorotoki}, this method can be applied to soft grippers, \eg, those described in seminal works like \cite{Sinatra2019Aug,Suzumori1992}. Yet, a significant limitation of our modeling methodology is that the soft beam's structural foundation yield zero velocity and acceleration inherently. Consequently, this limitation partially restricts the applicability of the model and it cannot be directly applied to soft robotic systems designed for locomotion, closed-chain soft robots, or a composition of soft robots on mobile platforms (\eg, drones or robot end-effectors). Other potential applications include academic study cases that relate to control theory, such as swing-up control for soft pendulums \cite{Weerakoon2021Dec,DellaSantina2020Dec}. This modeling restriction arises from the projection into the desirable Lagrangian formulation by means of pre-multiplication of the geometric Jacobian matrix, which effectively eliminates the boundary conditions at the foundation (\ie, the constraint wrenches) in the model and thereby ensures that the state's evolution always satisfies the imposed kinematic behavior.

In order to relax the model, we recommend extending it to incorporate the rigid-body dynamics of the entire soft structure subjected to general motion. This can be done by introducing a free inertial coordinate frame that is affixed at a specific location on the body, following a similar  Lie group representation. Although the selection of this inertial coordinate frame can be chosen arbitrary, opting for the base of the beam constitutes a reasonable choice inline with prior chapters. The equation of motions can be written using a Newton-Euler formulation, akin to the approach presented in Chapter \ref{chap:BeyondPCC}. Consequently, this necessitates a separate solver that calculates the inertia tensor, which accounts for changes of the center of mass upon deformation, and the lumped integration of all inertial wrench responsible for rigid-body motion. In theory, it is feasible to optimize the spatial integration of Lagrangian matrices along with rigid-body inertial dynamics by developing a single Matrix Differential Equation (MDE), which aims to expedite the computational process. However, additional investigation is necessary to explore the numerical efficiency of these methodologies. This is imperative for enabling online model-based control, which can be implemented in areas such as locomotion.

\textbf{Robustness of modal discretization for soft beam, a Chicken-and-Egg problem.} Although the prospect of exploring locomotion is fascinating, it presents a challenge that is not immediately apparent. Namely, there is no guarantee that a chosen modal strain discretization is representative of the true spatial dynamics of the soft beams. Since robots often operate in unstructured environments, there are infinite possible force wrenches of varying amplitudes and frequencies that can disturb the system. Due to our inadequate understanding of the interaction between the soft robotic system and the unknown environment, it is difficult, if not impossible, to select an appropriate strain basis \textit{a priori}. This challenge was previously discussed in Chapter \ref{chap:BeyondPCC}, where it was referred to as the "Chicken-and-Egg" problem, primarily from the viewpoint of state feedback. The implementation of model-based feedback loops, or feedback in general, has the potential to evoke strain modes that were not considered during modeling. This might paradoxically lead to unintended errors being introduced. The implementation of model-based control leads to circular reasoning of cause-and-effect in regards to this phenomenon. Furthermore, ascertaining whether the closed-loop system can stabilize such unmodeled modes through rigorous mathematical analysis is challenging, since various numerical approximations of the PDE model are introduced.

A recommendation for future research involves conducting a detailed mathematical analysis of the robustness of the proposed modeling method and the resulting controllers. Chapter \ref{chap:Sorotoki} demonstrated that the DVS strain method is sufficiently robust to accommodate (moderate) unmodeled disturbances that manifest as point contacts at multiple locations on a soft body. This discovery suggests that these models possess a certain degree of robustness against disturbances. Our hypothesis is that soft body may act as spatial low-pass filter that structurally penalizes high-order modes, thus a sufficiently large collection of ordered strain modes will alleviate the {Chicken-and-Egg} problem. This may provide an explanation for the successful performance of control structures that are based on the Piecewise-Constant Strain assumption thus far. One possible area of investigation is the application of frequency-based stability analysis to the closed-loop PDE system. Another potential avenue for research involves the exploration of adaptive basis representations that can dynamically adjust their truncations based on observable model errors. This approach is partially inspired by the adaptive control methodology described in Chapter \ref{chap: design}. One potential recommendation could be to consider utilizing a vast library of orthonormal spatial modes, potentially even data-driven. To achieve a balance between precision and efficiency, an adaptive decision variable can be introduced that determines whether or not to include a strain mode in the recursive numerical solver of the dynamic model, thereby optimizing computational resources.

\textbf{Soft sensing applied to control.} An important area of control for robotics is sensing. While the main focus of this thesis centers around the modeling of soft actuation and mechanical structures, little emphasis is given on the topic of proprioceptive sensing. A possible recommendation can be to explore strain-sensitive materials that are directly embedded into the soft structures to recover the spatial modes of the soft robot. This aligns with a popular research topic in control of PDE systems: \textit{"optimal sensor placement"}. The primary objective of this approach is to determine the optimal location for sensors, which can effectively improve the quality and quantity of information gathered from the system, while simultaneously minimizing the number of sensors used. Upon reviewing the prior literature, it is apparent that this particular area of research is relatively new and has yet to be extensively explored. Moreover, similar to the concept of soft actuation, there is a plethora of sensor technologies available for the implementation of soft sensing. The available alternatives encompass magnetic sensors \cite{Felt2015Oct,Felt2019Feb,Baaij2023}, inertial sensors, color-altering (meta)-materials \cite{Scharff2019Jul}, or embedded stretchable liquid metal channels \cite{Park2012,Tapia2020}. Of particular interest is the latter, as the proposed soft beam modeling can be readily expanded to assess the deformation of an complex network of micro-channels. Yet, it is possible that a single alternative may be inadequate and therefore necessitate the use of multiple embedded sensing strategies with robust online sensor fusion for state estimation. Irrespective of the chosen soft sensor, it is crucial to model the input-output behavior, which may even exhibit some degree of memory.

% \section{Future outlooks}
% In this section, we list potential future developments in soft robotics for the coming decades. These projections reflect emerging research trends in academia and are not distinct research suggestions.

% \subsection*{Perhaps "not-too-soft" robots?}
% We envision that the boundaries between soft robotics and natural organisms will gradually diminish. Incorporating natural designs and control mechanisms into robotic systems is expected to significantly enhance their efficiency, adaptability, and resilience, thereby prolonging their lifespan. As a result, this integration holds paramount importance for the longevity of robotic systems. Such properties have been demonstrated by the example of XenoBots \cite{Kriegman2021Dec} -- soft robots made from biological substances that possess the ability of self-replication, as well as soft robots equipped with self-healing material properties. However, the investigation of material heterogeneity in soft robotics has been limited, specifically with regards to its role in musculoskeletal system, a widely prevalent attribute found in numerous animals.

% The primary function of the skeletal system in animals is to provide structural support, facilitate movement, and protect internal organs. Although a majority of soft robotic design is bio-inspired, we see an abundance of soft robots that are exclusively made from soft materials. Consequently, achieving stable, efficient locomotion of soft robots composed homogeneously of soft matter has been proven difficult due to the intricate interplay between the dynamics of highly deformable structures and the surrounding environment. Moreover, soft robots face weight capacity limitations due to the necessity of their flexible structure to withstand their own gravitational force. Rigid robots, on the other hand, have demonstrated greater efficacy in locomotion, but rely on responsive feedback controllers to maintain stable locomotion. Additionally, power consumption poses a challenge, leading to a shorter autonomous lifespan.

%Soft actuators transmit forces through these structures, while external forces also impact the deformation of the robot's soft components. %As a result, accurately estimating the system's states and predicting the effects of actuation becomes difficult.
% Homogeneous low-compliance throughout the robot's physiology, in parts, makes control challenging due to the dependence of the dynamics of soft deformable structures on the environment. Soft actuators transmit forces through soft structures while environmental forces influence the deformation of soft robot structures. This makes it difficult to estimate the system's own states and the consequences of actuation. 

% We believe that the merge of "\textit{rigid}" and "\textit{soft}" materials in the field of soft robotics is deemed crucial for a well-designed robot physiology, especially when energy consumption is critical. To achieve this, an architectural hierarchy comprising mechanical rigid and soft components can be utilized to perform distinct functions such as motion transmission, body support, and energy storage and release. Extending such design philosophy further, we could start designing robots that are neither completely rigid nor completely soft, but instead explore a spectrum of material composites that enable embedded intelligence through compliance. For instance, these composites can filter out high-frequency oscillations caused by impacts, employ tactile sensors to gather environmental information through local surface deformation, or use adaptive harmonic oscillators to regulate the gait cycle during locomotion.

% \subsection*{Design and control: two sides of the same coin?}
% Soft robotics has predominantly been influenced by bio-inspired methodologies with the objective of replicating biological systems to achieve high performance. In this regard, we believe that congruence between design and control is a fundamental requirement to achieve bio-like performance that will ultimately surpass rigid robotics in the future. The current methodology for the design of soft robots adopts a static perspective, whereby the placement of joints and actuators within established design parameters is of primary concern. Meanwhile, control is directed towards identifying suitable inputs that enable the attainment of workspace objectives through the use of state feedback. We already see research where control and design are consolidate into one problem, \eg, co-design optimization. 

% Alternatively, soft fluidic logic could potential be seen as a stepping stones towards decentralized low-level controllers built directly into the hardware. This embedded logic may be responsible for rudimentary motion control

% This will ultimately not only provide improvement performance in robotic systems, Moreover, it will help us enhance understanding of the underlying principles used to build robots, thereby propelling the scientific field of soft robotic forward.

% \newcommand{\tabitem}{~~\llap{\textbullet}~~}
% \newcolumntype{C}[1]{>{\centering\arraybackslash}m{#1}}
% \begin{table}
%     \centering
% \begin{tabular}{|C{4cm}|l|}
%     \hline
%     \multirow{3}{*}{Short term ($\sim$ 1 year)}   & \tabitem Extension towards 3D topology optimization\newline  \\ 
%                                             & \hspace{4mm} and multi/active material optimization. \\ 
%                                             & \tabitem Bananis baidg ndgidog idngd kdnfd \\ 
%     \hline
%   \end{tabular}
% \end{table}

% %\section{Future horizons of soft robotics}
% \textbf{Chicken-and-egg problem in conventional modeling} 
% \lipsum[1-2]

% \textbf{Synergy between design and control}
% \lipsum[1-2]

% \textbf{Importance of sensing and its relation towards learning in control}
% \lipsum[1-2]